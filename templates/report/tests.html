{% extends 'base.html' %} {% load static %} {% block title %} Entity Report {% endblock title %}

{% block body %}
{% block reports %} 
  <link rel="stylesheet" type="text/css" href="{% static 'css/reports.css' %}">
{% endblock reports %}

  <div class="report-links">
      <a href="{% url 'export' %}" target="_blank" class="btn btn-primary-2 btn-sm">Export PDF</a>
  </div>
  <header>
    <div class="container1">
      <div class="content">
        <h1>Entity Report</h1>
      </div>
    </div>
  </header>
  <main>
    <div class="top container1">
      <div class="top__section_first">
        <div class="top__section__left">
          <!-- Date -->
          <strong>Date - <span id="date"></span></strong>
        </div>
        <div class="top__section__right"><strong>Currency - AED</strong></div>
      </div>
    </div>

    <!-- Table with details -->
    <div class="top__section_third">
      <div class="container1 table__custom">
        <table class="table__custom_style">
          <thead style="margin-bottom: 20px">
            <tr>
              <th>Entity</th>
              <th>Address</th>
              <th>Contact</th>
              <th>E-mail Address</th>
            </tr>
          </thead>
          <tbody>
          {% for entity in entities %}
            <tr>
              <td>{{ entity.entity_name }}</td>
              <td>{{ entity.address1 }}, {{ entity.city }}, {{ entity.get_country_display }}</td>
              <td>{{ entity.contact_no  }}</td>
              <td>{{ entity.email }}</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    <!-- Signature -->

    {% include 'report/signture.html' %}
  </main>

  <script>
  
    const reportDate = document.getElementById('date')
    reportDate.innerText = new Date().toLocaleDateString()
  
  </script>
{% endblock body %}